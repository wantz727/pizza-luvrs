"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRegionInfo = void 0;
const getResolvedHostname_1 = require("./getResolvedHostname");
const getResolvedPartition_1 = require("./getResolvedPartition");
const getRegionInfo = (region, { signingService, regionHash, partitionHash }) => {
    var _a, _b, _c, _d;
    const partition = (0, getResolvedPartition_1.getResolvedPartition)(region, { partitionHash });
    const resolvedRegion = (_b = (_a = partitionHash[partition]) === null || _a === void 0 ? void 0 : _a.endpoint) !== null && _b !== void 0 ? _b : region;
    return {
        partition,
        signingService,
        hostname: (0, getResolvedHostname_1.getResolvedHostname)(resolvedRegion, { signingService, regionHash, partitionHash }),
        ...(((_c = regionHash[resolvedRegion]) === null || _c === void 0 ? void 0 : _c.signingRegion) && {
            signingRegion: regionHash[resolvedRegion].signingRegion,
        }),
        ...(((_d = regionHash[resolvedRegion]) === null || _d === void 0 ? void 0 : _d.signingService) && {
            signingService: regionHash[resolvedRegion].signingService,
        }),
    };
};
exports.getRegionInfo = getRegionInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0UmVnaW9uSW5mby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZWdpb25JbmZvL2dldFJlZ2lvbkluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsK0RBQW9HO0FBQ3BHLGlFQUE2RTtBQU10RSxNQUFNLGFBQWEsR0FBRyxDQUMzQixNQUFjLEVBQ2QsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBd0IsRUFDdkQsRUFBRTs7SUFDZCxNQUFNLFNBQVMsR0FBRyxJQUFBLDJDQUFvQixFQUFDLE1BQU0sRUFBRSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDbEUsTUFBTSxjQUFjLEdBQUcsTUFBQSxNQUFBLGFBQWEsQ0FBQyxTQUFTLENBQUMsMENBQUUsUUFBUSxtQ0FBSSxNQUFNLENBQUM7SUFDcEUsT0FBTztRQUNMLFNBQVM7UUFDVCxjQUFjO1FBQ2QsUUFBUSxFQUFFLElBQUEseUNBQW1CLEVBQUMsY0FBYyxFQUFFLEVBQUUsY0FBYyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsQ0FBQztRQUM1RixHQUFHLENBQUMsQ0FBQSxNQUFBLFVBQVUsQ0FBQyxjQUFjLENBQUMsMENBQUUsYUFBYSxLQUFJO1lBQy9DLGFBQWEsRUFBRSxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUMsYUFBYTtTQUN4RCxDQUFDO1FBQ0YsR0FBRyxDQUFDLENBQUEsTUFBQSxVQUFVLENBQUMsY0FBYyxDQUFDLDBDQUFFLGNBQWMsS0FBSTtZQUNoRCxjQUFjLEVBQUUsVUFBVSxDQUFDLGNBQWMsQ0FBQyxDQUFDLGNBQWM7U0FDMUQsQ0FBQztLQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFqQlcsUUFBQSxhQUFhLGlCQWlCeEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWdpb25JbmZvIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IGdldFJlc29sdmVkSG9zdG5hbWUsIEdldFJlc29sdmVkSG9zdG5hbWVPcHRpb25zLCBSZWdpb25IYXNoIH0gZnJvbSBcIi4vZ2V0UmVzb2x2ZWRIb3N0bmFtZVwiO1xuaW1wb3J0IHsgZ2V0UmVzb2x2ZWRQYXJ0aXRpb24sIFBhcnRpdGlvbkhhc2ggfSBmcm9tIFwiLi9nZXRSZXNvbHZlZFBhcnRpdGlvblwiO1xuXG5leHBvcnQgeyBSZWdpb25IYXNoLCBQYXJ0aXRpb25IYXNoIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UmVnaW9uSW5mb09wdGlvbnMgZXh0ZW5kcyBHZXRSZXNvbHZlZEhvc3RuYW1lT3B0aW9ucyB7fVxuXG5leHBvcnQgY29uc3QgZ2V0UmVnaW9uSW5mbyA9IChcbiAgcmVnaW9uOiBzdHJpbmcsXG4gIHsgc2lnbmluZ1NlcnZpY2UsIHJlZ2lvbkhhc2gsIHBhcnRpdGlvbkhhc2ggfTogR2V0UmVnaW9uSW5mb09wdGlvbnNcbik6IFJlZ2lvbkluZm8gPT4ge1xuICBjb25zdCBwYXJ0aXRpb24gPSBnZXRSZXNvbHZlZFBhcnRpdGlvbihyZWdpb24sIHsgcGFydGl0aW9uSGFzaCB9KTtcbiAgY29uc3QgcmVzb2x2ZWRSZWdpb24gPSBwYXJ0aXRpb25IYXNoW3BhcnRpdGlvbl0/LmVuZHBvaW50ID8/IHJlZ2lvbjtcbiAgcmV0dXJuIHtcbiAgICBwYXJ0aXRpb24sXG4gICAgc2lnbmluZ1NlcnZpY2UsXG4gICAgaG9zdG5hbWU6IGdldFJlc29sdmVkSG9zdG5hbWUocmVzb2x2ZWRSZWdpb24sIHsgc2lnbmluZ1NlcnZpY2UsIHJlZ2lvbkhhc2gsIHBhcnRpdGlvbkhhc2ggfSksXG4gICAgLi4uKHJlZ2lvbkhhc2hbcmVzb2x2ZWRSZWdpb25dPy5zaWduaW5nUmVnaW9uICYmIHtcbiAgICAgIHNpZ25pbmdSZWdpb246IHJlZ2lvbkhhc2hbcmVzb2x2ZWRSZWdpb25dLnNpZ25pbmdSZWdpb24sXG4gICAgfSksXG4gICAgLi4uKHJlZ2lvbkhhc2hbcmVzb2x2ZWRSZWdpb25dPy5zaWduaW5nU2VydmljZSAmJiB7XG4gICAgICBzaWduaW5nU2VydmljZTogcmVnaW9uSGFzaFtyZXNvbHZlZFJlZ2lvbl0uc2lnbmluZ1NlcnZpY2UsXG4gICAgfSksXG4gIH07XG59O1xuIl19